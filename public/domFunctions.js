(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{addSpinner:()=>s,displayApiError:()=>c,displayError:()=>i,setPlaceholderText:()=>n,updateDisplay:()=>l,updateScreenReaderConfirmation:()=>r});const n=()=>{const e=document.getElementById("searchBar__text");window.innerWidth<400?e.placeholder="City, State, Country":e.placeholder="City, State, Country or Zip Code"},s=e=>{a(e),setTimeout(a,1e3,e)},a=e=>{e.classList.toggle("none"),e.nextElementSibling.classList.toggle("block"),e.nextElementSibling.classList.toggle("none")},o=e=>{const t=document.getElementById("currentForecast__location");if(-1!==e.indexOf("Lat:")&&-1!==e.indexOf("Long:")){const n=e.split(" ").map((e=>e.includes(":")?e.replace(":",":  "):e)),s=-1===n[0].indexOf("-")?n[1].slice(0,5):n[1].slice(0,10),a=(n[0].indexOf("-"),n[3].slice(0,5));t.textContent=`${n[0]}${s} • ${n[2]}${a}`}else t.textContent=e},r=e=>{document.getElementById("confirmation").textContent=e},i=(e,t)=>{o(e),r(t)},c=e=>{const t=d(e.message);o(t),r(`${t}. Please try again.`)},d=e=>e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),l=(e,t)=>{m(),u();const n=g(e.current.weather[0].icon);f(n);const s=y(e,t);r(s),o(t.getName());const a=b(e,t.getUnit());_(a),v(e),w(),m()},m=()=>{const e=document.getElementById("currentForecast");e.classList.toggle("zero-vis"),e.classList.toggle("fade-in");const t=document.getElementById("dailyForecast");t.classList.toggle("zero-vis"),t.classList.toggle("fade-in")},u=()=>{const e=document.getElementById("currentForecast__conditions");p(e);const t=document.getElementById("dailyForecast__contents");p(t)},p=e=>{let t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild},g=e=>{const t=e.slice(0,2),n=e.slice(2),s={"01":"clear-sky","02":"few-clouds","03":"scattered-clouds","04":"scattered-clouds","09":"snow",10:"rain",11:"thunderstorm",13:"snow",50:"fog"};let a;return a=s[t]?s[t]:"d"===n?"thunderstorm":"night",a},f=e=>{const t="clear-sky"===e?"../img/clear-sky.jpg":"few-clouds"===e?"../img/clouds.jpg":"rain"===e?"../img/rain.jpg":"snow"===e?"../img/snow.jpg":"scattered-clouds"===e||"scattered-clouds"===e?"../img/scattered-clouds.jpg":"thunderstorm"===e?"../img/thunderstorm.jpg":"../img/clouds.jpg";document.documentElement.style.backgroundImage=`url(${t})`},y=(e,t)=>{const n=t.getName(),s="imperial"===t.getUnit()?"C":"F";return`${e.current.weather[0].description} and ${h(e.current.temp)}°${s} in ${n}`};function h(e){const t=5*(e-32)/9;return Math.round(Number(t))}const w=()=>{document.getElementById("searchBar__text").focus()},b=(e,t)=>{const n="imperial"===t?"C":"F",s="imperial "===t?"mph":"m/s",a=L(e.current.weather[0].icon,e.current.weather[0].description),o=C("div","temp",`${h(e.current.temp)}° `,n),r=d(e.current.weather[0].description);return[a,o,C("div","desc",r),C("div","feels",`Feels Like ${h(e.current.feels_like)}°`),C("div","maxtemp",`High ${h(e.daily[0].temp.max)}°`),C("div","mintemp",`Low ${h(e.daily[0].temp.min)}°`),C("div","humidity",`Humidity ${e.current.humidity}%`),C("div","wind",`Wind ${Math.round(Number(e.current.wind_speed))} ${s}`)]},L=(e,t)=>{const n=C("div","icon");n.id="icon";const s=E(e);return s.ariaHidden=!0,s.title=t,n.appendChild(s),n},C=(e,t,n,s)=>{const a=document.createElement(e);if(a.className=t,n&&(a.textContent=n),"temp"===t){const e=document.createElement("div");e.className="unit",e.textContent=s,a.appendChild(e)}return a},E=e=>{const t=document.createElement("i"),n=e.slice(0,2),s=e.slice(2);switch(n){case"01":"d"===s?t.classList.add("far","fa-sun"):t.classList.add("far","fa-moon");break;case"02":"d"===s?t.classList.add("fas","fa-cloud-sun"):t.classList.add("fas","fa-cloud-moon");break;case"03":t.classList.add("fas","fa-cloud");break;case"04":t.classList.add("fas","fa-cloud-meatball");break;case"09":t.classList.add("fas","fa-cloud-rain");break;case"10":"d"===s?t.classList.add("fas","fa-cloud-sun-rain"):t.classList.add("far","fa-moon-rain");break;case"11":t.classList.add("fas","fa-poo-storm");break;case"13":t.classList.add("fas","fa-snowflake");break;case"50":t.classList.add("fas","fa-smog");break;default:t.classList.add("far","fa-question-circle")}return t},_=e=>{const t=document.getElementById("currentForecast__conditions");e.forEach((e=>{t.appendChild(e)}))},v=e=>{for(let t=1;t<=6;t++){const n=$(e.daily[t]);j(n)}},$=e=>{const t=x(e.dt);return[C("p","dayAbbreviation",t),k(e.weather[0].icon,e.weather[0].description),C("p","dayHigh",`${h(e.temp.max)}°`),C("p","dayLow",`${h(e.temp.min)}`)]},x=e=>new Date(1e3*e).toUTCString().slice(0,3).toUpperCase(),k=(e,t)=>{const n=document.createElement("img");return window.innerWidth<768||window.innerHeight<1025?n.src=`https://openweathermap.org/img/wn/${e}.png`:n.src=`https://openweathermap.org/img/wn/${e}@2x.png`,n.alt=t,n},j=e=>{const t=C("div","forecastDay");e.forEach((e=>{t.appendChild(e)}));document.getElementById("dailyForecast__contents").appendChild(t)};window.setBGImage=f;var B=window;for(var I in t)B[I]=t[I];t.__esModule&&Object.defineProperty(B,"__esModule",{value:!0})})();