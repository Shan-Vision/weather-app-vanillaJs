(()=>{"use strict";var e={152:(e,t,n)=>{n.d(t,{default:()=>o});class o{constructor(){this._name="Current Location",this._lat=null,this._lon=null,this._unit="imperial"}getName(){return this._name}setName(e){this._name=e}getLat(){return this._lat}setLat(e){this._lat=e}getLon(){return this._lon}setLon(e){this._lon=e}getUnit(){return this._unit}setUnit(e){this._unit=e}toggleUnit(){this._unit="imperial"===this._unit?"metric":"imperial"}}},634:(e,t,n)=>{n.d(t,{cleanText:()=>s,getCoordsFromApi:()=>i,getHomeLocation:()=>a,getWeatherFromCoords:()=>r,setLocationObject:()=>o});const o=(e,t)=>{const{lat:n,lon:o,name:a,unit:r}=t;e.setLat(n),e.setLon(o),e.setName(a),r&&e.setUnit(r)},a=()=>localStorage.getItem("defaultWeatherLocation"),r=async e=>{const t=e.getLat(),n=e.getLon(),o=e.getUnit();try{const{data:e}=await axios.get(`https://api.openweathermap.org/data/2.5/onecall?lat=${t}&lon=${n}&exclude=minutely,hourly,alerts&units=${o}&appid=ce770b8a647dbe3cf3a00828feaa65ba`);return e}catch(e){console.error(e)}},i=async(e,t)=>{const n=`https://api.openweathermap.org/data/2.5/weather?${/^\d+$/g.test(e)?"zip":"q"}=${e}&units=${t}&appid=ce770b8a647dbe3cf3a00828feaa65ba`;encodeURI(n);try{const{data:e}=await axios.get(n);return e}catch(e){console.error(e.stack)}},s=e=>e.replaceAll(/ {2,}/g," ").trim();window.setLocationObject=o,window.getHomeLocation=a,window.getWeatherFromCoords=r,window.getCoordsFromApi=i,window.cleanText=s},704:(e,t,n)=>{n.d(t,{addSpinner:()=>a,displayApiError:()=>d,displayError:()=>c,setPlaceholderText:()=>o,updateDisplay:()=>m,updateScreenReaderConfirmation:()=>s});const o=()=>{const e=document.getElementById("searchBar__text");window.innerWidth<400?e.placeholder="City, State, Country":e.placeholder="City, State, Country or Zip Code"},a=e=>{r(e),setTimeout(r,1e3,e)},r=e=>{e.classList.toggle("none"),e.nextElementSibling.classList.toggle("block"),e.nextElementSibling.classList.toggle("none")},i=e=>{const t=document.getElementById("currentForecast__location");if(-1!==e.indexOf("Lat:")&&-1!==e.indexOf("Long:")){const n=e.split(" ").map((e=>e.includes(":")?e.replace(":",":  "):e)),o=-1===n[0].indexOf("-")?n[1].slice(0,5):n[1].slice(0,10),a=(n[0].indexOf("-"),n[3].slice(0,5));t.textContent=`${n[0]}${o} • ${n[2]}${a}`}else t.textContent=e},s=e=>{document.getElementById("confirmation").textContent=e},c=(e,t)=>{i(e),s(t)},d=e=>{const t=l(e.message);i(t),s(`${t}. Please try again.`)},l=e=>e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),m=(e,t)=>{u(),p();const n=f(e.current.weather[0].icon);h(n);const o=y(e,t);s(o),i(t.getName());const a=b(e,t.getUnit());C(a),S(e),L(),u()},u=()=>{const e=document.getElementById("currentForecast");e.classList.toggle("zero-vis"),e.classList.toggle("fade-in");const t=document.getElementById("dailyForecast");t.classList.toggle("zero-vis"),t.classList.toggle("fade-in")},p=()=>{const e=document.getElementById("currentForecast__conditions");g(e);const t=document.getElementById("dailyForecast__contents");g(t)},g=e=>{let t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild},f=e=>{const t=e.slice(0,2),n=e.slice(2),o={"01":"clear-sky","02":"few-clouds","03":"scattered-clouds","04":"scattered-clouds","09":"snow",10:"rain",11:"thunderstorm",13:"snow",50:"fog"};let a;return a=o[t]?o[t]:"d"===n?"thunderstorm":"night",a},h=e=>{const t="clear-sky"===e?"../img/clear-sky.jpg":"few-clouds"===e?"../img/clouds.jpg":"rain"===e?"../img/rain.jpg":"snow"===e?"../img/snow.jpg":"scattered-clouds"===e||"scattered-clouds"===e?"../img/scattered-clouds.jpg":"thunderstorm"===e?"../img/thunderstorm.jpg":"../img/clouds.jpg";document.documentElement.style.backgroundImage=`url(${t})`},y=(e,t)=>{const n=t.getName(),o="imperial"===t.getUnit()?"C":"F";return`${e.current.weather[0].description} and ${w(e.current.temp)}°${o} in ${n}`};function w(e){const t=5*(e-32)/9;return Math.round(Number(t))}const L=()=>{document.getElementById("searchBar__text").focus()},b=(e,t)=>{const n="imperial"===t?"C":"F",o="imperial "===t?"mph":"m/s",a=v(e.current.weather[0].icon,e.current.weather[0].description),r=E("div","temp",`${w(e.current.temp)}° `,n),i=l(e.current.weather[0].description);return[a,r,E("div","desc",i),E("div","feels",`Feels Like ${w(e.current.feels_like)}°`),E("div","maxtemp",`High ${w(e.daily[0].temp.max)}°`),E("div","mintemp",`Low ${w(e.daily[0].temp.min)}°`),E("div","humidity",`Humidity ${e.current.humidity}%`),E("div","wind",`Wind ${Math.round(Number(e.current.wind_speed))} ${o}`)]},v=(e,t)=>{const n=E("div","icon");n.id="icon";const o=_(e);return o.ariaHidden=!0,o.title=t,n.appendChild(o),n},E=(e,t,n,o)=>{const a=document.createElement(e);if(a.className=t,n&&(a.textContent=n),"temp"===t){const e=document.createElement("div");e.className="unit",e.textContent=o,a.appendChild(e)}return a},_=e=>{const t=document.createElement("i"),n=e.slice(0,2),o=e.slice(2);switch(n){case"01":"d"===o?t.classList.add("far","fa-sun"):t.classList.add("far","fa-moon");break;case"02":"d"===o?t.classList.add("fas","fa-cloud-sun"):t.classList.add("fas","fa-cloud-moon");break;case"03":t.classList.add("fas","fa-cloud");break;case"04":t.classList.add("fas","fa-cloud-meatball");break;case"09":t.classList.add("fas","fa-cloud-rain");break;case"10":"d"===o?t.classList.add("fas","fa-cloud-sun-rain"):t.classList.add("far","fa-moon-rain");break;case"11":t.classList.add("fas","fa-poo-storm");break;case"13":t.classList.add("fas","fa-snowflake");break;case"50":t.classList.add("fas","fa-smog");break;default:t.classList.add("far","fa-question-circle")}return t},C=e=>{const t=document.getElementById("currentForecast__conditions");e.forEach((e=>{t.appendChild(e)}))},S=e=>{for(let t=1;t<=6;t++){const n=$(e.daily[t]);B(n)}},$=e=>{const t=x(e.dt);return[E("p","dayAbbreviation",t),k(e.weather[0].icon,e.weather[0].description),E("p","dayHigh",`${w(e.temp.max)}°`),E("p","dayLow",`${w(e.temp.min)}`)]},x=e=>new Date(1e3*e).toUTCString().slice(0,3).toUpperCase(),k=(e,t)=>{const n=document.createElement("img");return window.innerWidth<768||window.innerHeight<1025?n.src=`https://openweathermap.org/img/wn/${e}.png`:n.src=`https://openweathermap.org/img/wn/${e}@2x.png`,n.alt=t,n},B=e=>{const t=E("div","forecastDay");e.forEach((e=>{t.appendChild(e)}));document.getElementById("dailyForecast__contents").appendChild(t)};window.setBGImage=h}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})();var o={};(()=>{n.r(o);var e=n(152),t=n(704),a=n(634);n.p,n.p,n.p,n.p,n.p,n.p,n.p,n.p;const r=new e.default;document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("getLocation").addEventListener("click",i);document.getElementById("home").addEventListener("click",d);document.getElementById("saveLocation").addEventListener("click",m);document.getElementById("unit").addEventListener("click",u);document.getElementById("refresh").addEventListener("click",p);document.getElementById("searchBar__form").addEventListener("submit",g),(0,t.setPlaceholderText)(),d()}));const i=e=>{if(e&&"click"===e.type){const e=document.querySelector(".fa-map-marker-alt");(0,t.addSpinner)(e)}if(!navigator.geolocation)return s();navigator.geolocation.getCurrentPosition(c,s)},s=e=>{const n=e?e.message:"Geolocation not supported";(0,t.displayError)(n,n)},c=e=>{const t={lat:e.coords.latitude,lon:e.coords.longitude,name:`Lat: ${e.coords.latitude} Long: ${e.coords.longitude}`};(0,a.setLocationObject)(r,t),f(r)},d=e=>{const n=(0,a.getHomeLocation)();if(!n&&!e)return i();if(n||"click"!==e.type)if(n&&!e)l(n);else{const e=document.querySelector(".fa-home");(0,t.addSpinner)(e),l(n)}else(0,t.displayError)("No Home Location Saved","Sorry. Please save your location first.")},l=e=>{if("string"==typeof e){const t=JSON.parse(e),n={lat:t.lat,lon:t.lon,name:t.name,unit:t.unit};(0,a.setLocationObject)(r,n),f(r)}},m=()=>{if(r.getLat()&&r.getLon()){const e=document.querySelector(".fa-save");(0,t.addSpinner)(e);const n={name:r.getName(),lat:r.getLat(),lon:r.getLon(),unit:r.getUnit()};localStorage.setItem("defaultWeatherLocation",JSON.stringify(n)),(0,t.updateScreenReaderConfirmation)(`Save ${r.getName()} as home location.`)}},u=()=>{const e=document.querySelector(".fa-chart-bar");(0,t.addSpinner)(e),r.toggleUnit(),f(r)},p=()=>{const e=document.querySelector(".fa-sync-alt");(0,t.addSpinner)(e),f(r)},g=async e=>{e.preventDefault();const n=document.getElementById("searchBar__text").value,o=(0,a.cleanText)(n);if(!o.length)return;const i=document.querySelector(".fa-solid");(0,t.addSpinner)(i);const s=await(0,a.getCoordsFromApi)(o,r.getUnit());if(s)if(200===s.cod){const e={lat:s.coord.lat,lon:s.coord.lon,name:s.name};(0,a.setLocationObject)(r,e),f(r)}else(0,t.displayApiError)(s);else(0,t.displayError)("Connection error","Connection error")},f=async e=>{const n=await(0,a.getWeatherFromCoords)(e);n&&(0,t.updateDisplay)(n,e)}})();var a=window;for(var r in o)a[r]=o[r];o.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();